const e=new Set,t=new WeakSet;let n,o=!0,r=!1;function a(){const e=new WeakMap;return new IntersectionObserver(((t,n)=>{for(const o of t){const t=o.target,r=e.get(t);o.isIntersecting?(r&&clearTimeout(r),e.set(t,setTimeout((()=>{n.unobserve(t),e.delete(t),c(t.href)}),300))):r&&(clearTimeout(r),e.delete(t))}}))}function c(t,n){if(function(t,n){if(!navigator.onLine)return!1;if(!n&&s())return!1;try{const n=new URL(t,location.href);return location.origin===n.origin&&(location.pathname!==n.pathname||location.search!==n.search)&&!e.has(t)}catch{}return!1}(t=t.replace(/#.*/,""),n?.ignoreSlowConnection??!1))if(e.add(t),document.createElement("link").relList?.supports?.("prefetch")&&"fetch"!==n?.with){const e=document.createElement("link");e.rel="prefetch",e.setAttribute("href",t),document.head.append(e)}else fetch(t,{priority:"low"})}function i(e,t){if("A"!==e?.tagName)return!1;const r=e.dataset.astroPrefetch;return"false"!==r&&(!("tap"!==t||null==r&&!o||!s())||(null==r&&o||""===r?t===n:r===t))}function s(){if("connection"in navigator){const e=navigator.connection;return e.saveData||/2g/.test(e.effectiveType)}return!1}function u(e){e();let t=!1;document.addEventListener("astro:page-load",(()=>{t?e():t=!0}))}r||(r=!0,o??=!1,n??="hover",function(){for(const e of["touchstart","mousedown"])document.body.addEventListener(e,(e=>{i(e.target,"tap")&&c(e.target.href,{ignoreSlowConnection:!0})}),{passive:!0})}(),function(){let e;function n(t){const n=t.target.href;e&&clearTimeout(e),e=setTimeout((()=>{c(n)}),80)}function o(){e&&(clearTimeout(e),e=0)}document.body.addEventListener("focusin",(e=>{i(e.target,"hover")&&n(e)}),{passive:!0}),document.body.addEventListener("focusout",o,{passive:!0}),u((()=>{for(const e of document.getElementsByTagName("a"))t.has(e)||i(e,"hover")&&(t.add(e),e.addEventListener("mouseenter",n,{passive:!0}),e.addEventListener("mouseleave",o,{passive:!0}))}))}(),function(){let e;u((()=>{for(const n of document.getElementsByTagName("a"))t.has(n)||i(n,"viewport")&&(t.add(n),e??=a(),e.observe(n))}))}(),u((()=>{for(const e of document.getElementsByTagName("a"))i(e,"load")&&c(e.href)})));